"use strict";window.const={keyCode:{ENTER:13,ESC:27},resolution:{DESKTOP:1200,TABLET:768,MOBILE:320}},function(){var e=document.querySelector(".js_cookie"),t=document.querySelector(".js_cookie .js_btn");e&&t&&t.addEventListener("click",function(){e.classList.add("js_hide")})}(),function(){var t=document.querySelector(".filter");if(t){var e=t.querySelector(".filter__open-btn");t.querySelector(".filter__body");t.classList.add("filter--js"),e.addEventListener("click",function(e){t.classList.toggle("filter--open"),e.currentTarget.textContent=t.classList.contains("filter--open")?"Скрыть фильтры":"Фильтры"})}}(),function(){var e=document.querySelectorAll(".form-select");e.length&&Array.prototype.forEach.call(e,function(n){var c=n.querySelector(".form-select__group"),r=n.querySelector(".form-select__title"),o=n.querySelectorAll(".form-select__option");if(c||r||o.length){document.addEventListener("keydown",function(e){27===e.keyCode&&s()}),document.addEventListener("click",function(e){var t=e.target;t===r?(e.preventDefault(),c.classList.toggle("form-select__group--active"),r.classList.toggle("form-select__title--open")):Array.prototype.forEach.call(o,function(e){t===e?function(e){for(var t=e.getAttribute("data-value"),o=e.parentNode.childNodes,s=0;s<o.length;s++)o[s]instanceof HTMLParagraphElement&&(t==o[s].getAttribute("data-value")?o[s].classList.add("form-select__option--active"):o[s].classList.remove("form-select__option--active"));document.getElementById("project_select-active").value=t,n.querySelector(".form-select__title-text").textContent=t,c.classList.contains("form-select__group--active")&&c.classList.remove("form-select__group--active"),r.classList.contains("form-select__title--open")&&r.classList.remove("form-select__title--open")}(e):s()})});var e=n.querySelector(".form-select__scrollbar-content");e&&window.Scrollbar.init(e,o)}function s(){c.classList.contains("form-select__group--active")&&c.classList.remove("form-select__group--active"),r.classList.contains("form-select__title--open")&&r.classList.remove("form-select__title--open")}})}(),function(){var e=document.querySelector(".location-switcher");e&&e.classList.add("location-switcher--js")}(),function(){var e=document.querySelector(".page-header");if(e){var t=e.querySelector(".page-header__bar"),o=e.querySelector(".main-menu"),s=e.querySelector(".menu-btn"),n=0,c=function(){o.style.height=e.classList.contains("page-header--open-menu")&&document.documentElement.clientWidth<window.const.resolution.DESKTOP?window.innerHeight-t.offsetHeight+"px":""};o.classList.add("main-menu--js"),s.addEventListener("click",function(){e.classList.toggle("page-header--open-menu"),s.classList.toggle("menu-btn--close"),c(),e.classList.contains("page-header--open-menu")?(n=window.pageYOffset,document.body.classList.add("page-body--no-scroll")):(document.body.classList.remove("page-body--no-scroll"),window.scrollTo(0,n))}),window.addEventListener("resize",function(){c(),e.classList.contains("page-header--open-menu")&&document.documentElement.clientWidth>=window.const.resolution.DESKTOP&&(e.classList.remove("page-header--open-menu"),s.classList.remove("menu-btn--close"),document.body.classList.remove("page-body--no-scroll"))})}}(),function(){var e=document.querySelector(".page-header");if(e){var t=function(){0<window.pageYOffset?e.classList.add("page-header--above-content"):e.classList.remove("page-header--above-content")};t(),e.classList.add("page-header--js"),document.addEventListener("scroll",t)}}(),function(){var e=document.querySelector(".projects__list");if(e){var t=Ellipsis({lines:3}),o=e.querySelectorAll(".project-item__title");t.add(o)}}(),function(){var o="js_hide",e=document.querySelector(".js_short_list"),t=document.querySelector(".js_short_list + .js_show_all");if(e&&t){var s=e.querySelectorAll("li");s.forEach(function(e,t){4<t&&e.classList.add(o)}),t.addEventListener("click",function(){s.forEach(function(e){e.classList.remove(o),t.classList.add(o)})})}}(),function(){var e=document.querySelector(".user-menu");if(e){var t=e.querySelector(".user-menu__dropdown-btn"),o=e.querySelector(".user-menu__overlay"),s=e.querySelector(".user-menu__list"),n=function(){e.classList.remove("user-menu--open"),o.classList.remove("user-menu__overlay--shown")};e.classList.add("user-menu--js"),t.addEventListener("click",function(){e.classList.toggle("user-menu--open"),o.classList.toggle("user-menu__overlay--shown"),s.style.height=0===s.offsetHeight?s.scrollHeight+"px":""}),o.addEventListener("click",n),document.addEventListener("keydown",function(e){e.keyCode===window.const.keyCode.ESC&&o.classList.contains("user-menu__overlay--shown")&&(e.preventDefault(),n())})}}();