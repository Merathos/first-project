"use strict";function initRangeSlider(s){if(s){var c=document.getElementById(s.dataset.input),e=parseInt(s.dataset.min),t=parseInt(s.dataset.max),n=c.value?c.value:t/2;window.noUiSlider.create(s,{start:n,behaviour:"snap",connect:"lower",step:parseInt(s.dataset.step),range:{min:[e],max:[t]},pips:{mode:"steps",stepped:!0,density:4},tooltips:!0,format:window.wNumb({decimals:0})}),s.noUiSlider.on("update",function(e,t){var n=e[t],o=Math.max(e),r=s.querySelectorAll(".noUi-marker-horizontal.noUi-marker-sub");if(c.value=n,r)for(var i=0;i<r.length;i++)i<=o-2?r[i].classList.add("form-range__accent"):r[i].classList.remove("form-range__accent")})}}!function(){function e(e,n){Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(e){e.preventDefault(),window.openPopup(n);var t=n.querySelectorAll(".js-text-hidden");t.length&&window.openText(t),window.initTable()})})}var t=document.querySelector(".js-comment-popup--add"),n=document.querySelectorAll(".js-comment-add");t&&n.length&&e(n,t);var o=document.querySelector(".js-comment-popup--edit"),r=document.querySelectorAll(".js-comment-edit");o&&r.length&&e(r,o);var i=document.querySelector(".js-comment-popup--your"),s=document.querySelectorAll(".js-comment-your");i&&s.length&&e(s,i);var c=document.querySelector(".js-table-popup"),l=document.querySelectorAll(".js-table");c&&l.length&&e(l,c);var a=document.querySelector(".js-comment-popup--table"),u=document.querySelectorAll(".js-comment-table");a&&u.length&&e(u,a)}(),function(){if(document.querySelector(".commentary-add")){var e=document.querySelector(".commentary-add__textarea"),t=e.querySelector("textarea"),n=e.querySelector("#textarea-error-field");t.addEventListener("input",function(){500<=t.value.length?(e.classList.add("commentary-add__textarea--warning"),n.textContent="Осталось символов: "+Math.abs(1e3-t.value.length)):e.classList.remove("commentary-add__textarea--warning"),1e3<=t.value.length?(e.classList.add("commentary-add__textarea--error"),n.textContent="Вы превысили лимит символов на "+Math.abs(1e3-t.value.length)):e.classList.remove("commentary-add__textarea--error")})}}(),function(){if(document.querySelector("#edit-comment")){var s=document.querySelector(".hearings__comments"),c=document.querySelector(".your-comment"),l=document.querySelector("#edit-comment-block"),e=c.querySelector("#edit-comment"),t=c.querySelector("#delete-comment"),a=c.querySelector(".your-comment__text");t.addEventListener("click",function(e){e.preventDefault(),c.remove()}),e.addEventListener("click",function(e){e.preventDefault(),c.classList.add("visually-hidden");var t=l.content.firstElementChild.cloneNode(!0),n=t.querySelector(".commentary-add__textarea"),o=n.querySelector("textarea"),r=n.querySelector("#textarea-error-field"),i=t.querySelector("#commentary-save");t.querySelector("textarea").value=a.innerText,o.addEventListener("input",function(){500<=o.value.length?(n.classList.add("commentary-add__textarea--warning"),r.textContent="Осталось символов: "+Math.abs(1e3-o.value.length)):n.classList.remove("commentary-add__textarea--warning"),1e3<=o.value.length?(n.classList.add("commentary-add__textarea--error"),r.textContent="Вы превысили лимит символов на "+Math.abs(1e3-o.value.length)):n.classList.remove("commentary-add__textarea--error")}),i.addEventListener("click",function(){e.preventDefault(),0<o.value.length&&o.value.length<1e3&&(a.innerText=o.value,t.remove(),c.classList.remove("visually-hidden"))}),s.prepend(t)})}}(),function(){var e=document.querySelector(".js-answers__form");if(e){var t=e.querySelector(".js-count-answer"),n=document.querySelector(".js-answers__count"),o=document.querySelector(".js-answers__all-count");(t||n||o)&&(n.addEventListener("mouseover",function(){t.focus()}),t.onblur=function(){t.value<1?t.value=1:t.value>+o.textContent&&(t.value=+o.textContent),n.classList.remove("answers__count--hover")},t.onfocus=function(){n.classList.add("answers__count--hover")},t.oninput=function(){t.value=t.value.replace(/[^\+\d]/g,""),t.focus(),n.classList.add("answers__count--hover")},e.addEventListener("submit",function(e){e.preventDefault(),t.blur()}))}}(),function(){if(document.querySelector(".confirmation-popup")){var e=document.querySelector(".confirmation-popup"),t=e.querySelector(".confirmation-popup__body"),n=document.querySelector("#improvement-submit-btn"),o=e.querySelector(".confirmation-popup__close-btn"),r=e.querySelector(".confirmation-popup__back-btn"),i=(document.querySelector("#js-improvement-form").querySelector(".confirmation-popup__submit-btn"),27),s=function(e){!function(e,t){e.keyCode===i&&t()}(e,c)},c=function(){e.classList.remove("confirmation-popup--show"),document.querySelector("body").style.overflow="visible",document.removeEventListener("keydown",s)};n.addEventListener("click",function(){e.classList.add("confirmation-popup--show"),document.querySelector("body").style.overflow="hidden",document.addEventListener("keydown",s)}),o.addEventListener("click",c),r.addEventListener("click",c),e.addEventListener("click",c),t.addEventListener("click",function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!1})}}(),window.const={keyCode:{ENTER:13,ESC:27},resolution:{DESKTOP:1200,TABLET:768,MOBILE:320}},function(){var e=document.querySelector(".js_cookie"),t=document.querySelector(".js-cookie__button");e&&t&&(document.body.classList.add("page-body--cookie"),t.addEventListener("click",function(){e.classList.add("js_hide"),document.body.classList.remove("page-body--cookie")}))}(),function(){function e(t){if(t){var e=t.querySelector(".js-filter__open-btn");t.classList.add("filter--js"),e.addEventListener("click",function(e){t.classList.toggle("filter--open"),e.currentTarget.textContent=t.classList.contains("filter--open")?"Скрыть фильтры":"Фильтры"})}}e(document.querySelector(".js-filter")),window.initJsFilter=e}(),function(){function t(e){var t=new window.SlimSelect({select:e,showSearch:!1,showContent:"down",placeholder:e.dataset.placeholderText?e.dataset.placeholderText:"",allowDeselect:!!e.dataset.deselect,deselectLabel:'<button type="button"><span class="visually-hidden">Сбросить фильтр по голосам</span><svg width="12" height="12" viewBox="0 0 12 12"><path d="M1 1L11 11M11 1L1 11" stroke-width="2"/></svg></button>',afterClose:function(){window.Scrollbar.destroy(document.querySelector(".form-select .ss-list"))},afterOpen:function(){window.Scrollbar.init(document.querySelector(".form-select .ss-list"),{continuousScrolling:!1})}}),n=t.slim.container,o=e.querySelectorAll("option[title]"),r=n.querySelectorAll(".ss-option[data-id]");return n.setAttribute("title",e.title),o.forEach(function(e,t){r[t].setAttribute("title",e.title)}),t}var e=document.querySelectorAll(".js-form-select select");e.forEach(function(e){t(e)});var n,o=document.querySelector(".js-form-select-improvement select");o&&(n=o,new window.SlimSelect({select:n,showSearch:!1})),window.addSelect=t}(),function(){var t=document.querySelector(".js-gallery-popup");if(t){var r=t.querySelector(".js-gallery-popup__frame"),i=t.querySelector(".js-gallery-popup__nav-btn--prev"),s=t.querySelector(".js-gallery-popup__nav-btn--next"),c=t.querySelector(".js-gallery-popup__photo-description"),l=t.querySelector(".js-gallery-popup__counter-current"),a=t.querySelector(".js-gallery-popup__counter-total"),u=t.querySelector(".popup__bar--bottom"),d=null;document.addEventListener("click",function(e){e.target.classList.contains("js-gallery__item-link")&&(e.preventDefault(),d&&(d.destroy(),r.innerHTML=""),window.openPopup(t),function(e){var t=e.parentElement.parentElement.children,n=e.querySelector(".gallery__item-text"),o=document.createElement("div");o.classList.add("swiper-wrapper"),Array.prototype.forEach.call(t,function(e){var t=e.querySelector(".gallery__item").cloneNode(!0);t.classList.add("swiper-slide"),o.appendChild(t)}),r.appendChild(o),d=new window.Swiper(r,{initialSlide:+e.dataset.index,slidesPerView:1,watchOverflow:!0,grabCursor:!0,loop:!0,navigation:{prevEl:i,nextEl:s},on:{slideChange:function(){c.textContent=t[this.realIndex].querySelector(".gallery__item-text").textContent,l.textContent=+this.realIndex+1}}}),c.textContent=n.textContent,l.textContent=+e.dataset.index+1,a.textContent=t.length,t.length<=1&&u.classList.add("d-none")}(e.target))})}}(),function(){var e=document.querySelectorAll(".js-gallery");if(e.length){e.forEach(function(e){e.querySelectorAll(".js-gallery__item-link").forEach(function(e,t){e.dataset.index=t}),function(e){new window.Swiper(e,{slidesPerView:"auto",spaceBetween:16,breakpoints:{320:{spaceBetween:12}},watchOverflow:!0,grabCursor:!0})}(e)})}}(),function(){if(document.querySelector(".hearings-result__status-info")){var n=document.querySelector(".hearings__result"),o=n.querySelector(".hearings-result__status-info"),r=document.querySelector("#poll-result");o.addEventListener("click",function(e){e.preventDefault(),o.remove();var t=r.content.firstElementChild.cloneNode(!0);n.append(t)})}}(),function(){var e=document.querySelectorAll(".info-banner");0<e.length&&e.forEach(function(e){var t=e.querySelector(".info-banner__text"),n=e.querySelector(".info-banner__button");if(t&&n){var o=t.getBoundingClientRect().height,r=+getComputedStyle(t).lineHeight.replace("px",""),i=Math.ceil(o/r),s=3;e.querySelector(".info-banner__title")&&(s=2),s<i?(e.classList.add("info-banner_enough-lines_true"),n.addEventListener("click",function(e){e.currentTarget.classList.toggle("opened"),t.classList.toggle("opened")})):e.classList.add("info-banner_enough-lines_false")}})}(),function(){if(document.querySelectorAll(".info-tooltip").length){var e=function(e){var t=e.target.closest(".info-tooltip");if(t){t.classList.add("shown");var n=t.querySelector(".info-tooltip__text"),o=n.getBoundingClientRect();if(o.left<=20)return n.style.left=-(t.getBoundingClientRect().left-20)+"px",void n.classList.add("info-tooltip__text--side-close");if(o.right>=document.documentElement.clientWidth-20)return n.style.right=-(document.documentElement.clientWidth-t.getBoundingClientRect().right-20)+"px",void n.classList.add("info-tooltip__text--side-close")}},t=function(e){var t=e.target.closest(".info-tooltip");if(t){t.classList.remove("shown");var n=t.querySelector(".info-tooltip__text");n.classList.remove("info-tooltip__text--side-close"),n.style=""}};document.addEventListener("mouseover",e),document.addEventListener("mouseout",t),document.addEventListener("focusin",e),document.addEventListener("focusout",t)}}(),function(){var e=document.querySelectorAll(".js-like-counter");e.length&&e.forEach(function(t){var n=t.querySelector("span");t.addEventListener("click",function(){var e=parseInt(n.textContent,10);t.classList.contains("liked")?(t.classList.remove("liked"),e-=1):(t.classList.add("liked"),e++),n.textContent=e})})}(),function(){var e=document.querySelector(".js-location-switcher");e&&e.classList.add("location-switcher--js")}(),function(){var e=document.querySelector(".js-page-header");if(e){var t=document.documentElement.clientWidth,n=e.querySelector(".js-page-header__bar"),o=e.querySelector(".js-main-menu"),r=o.querySelector(".container"),i=e.querySelector(".js-menu-btn"),s=i.querySelector(".menu-btn__text"),c=document.querySelectorAll(".js-open-popup"),l=function(){o.style.height=e.classList.contains("page-header--open-menu")&&document.documentElement.clientWidth<window.const.resolution.DESKTOP?window.innerHeight-n.offsetHeight+"px":""},a=function(){e.classList.remove("page-header--open-menu"),window.bodyScrollLock.enableBodyScroll(r),i.classList.remove("menu-btn--close"),s.textContent="Открыть основное меню",window.adjustPageContentTopPadding()};i.addEventListener("click",function(){e.classList.contains("page-header--open-menu")?a():(e.classList.add("page-header--open-menu"),window.bodyScrollLock.disableBodyScroll(r),i.classList.add("menu-btn--close"),s.textContent="Закрыть основное меню"),l()}),c.forEach(function(e){e.addEventListener("click",a)}),window.addEventListener("resize",function(){t!==document.documentElement.clientWidth&&(t=document.documentElement.clientWidth,a()),l()})}}(),function(){var e=document.querySelector(".js-moderator-comments");if(e){var t=e.parentElement,n=t.scrollHeight;e.addEventListener("click",function(){t.classList.contains("comments-tab--opened")?(t.classList.remove("comments-tab--opened"),t.removeAttribute("style")):(t.classList.add("comments-tab--opened"),t.style.height=n+"px")})}}(),function(){var e=document.querySelector(".js-page-header");if(e){var t=e.querySelector(".js-page-header__bar"),n=function(){document.documentElement.clientWidth>=window.const.resolution.DESKTOP&&0<window.pageYOffset?(e.classList.add("page-header--above-content"),e.style.top=-t.offsetHeight+"px"):(e.classList.remove("page-header--above-content"),e.style.top=0)},o=function(){document.body.style.paddingTop=e.offsetHeight+"px"};e.classList.add("page-header--js"),o(),n(),document.addEventListener("scroll",n),window.addEventListener("resize",function(){e.classList.remove("page-header--above-content"),o(),n()}),window.adjustPageContentTopPadding=o}}(),function(){var e=document.querySelectorAll(".js-popup");window.openPopup=function(e){window.bodyScrollLock.disableBodyScroll(e),e.classList.add("popup--shown")};function o(e){window.bodyScrollLock.enableBodyScroll(e),e.classList.remove("popup--shown")}e.forEach(function(t){var e=t.querySelector(".js-popup__overlay"),n=t.querySelector(".js-popup__close-btn");e.addEventListener("click",function(){o(t)}),n.addEventListener("click",function(){o(t)}),document.addEventListener("keydown",function(e){!function(e,t){e.keyCode===window.const.keyCode.ESC&&t.classList.contains("popup--shown")&&(e.preventDefault(),o(t))}(e,t)})})}(),function(){var e=document.querySelector(".js-project-page__panel");e&&(e.classList.add("project-page__panel--js"),new window.Sticky(".js-project-page__panel"))}(),function(){var e=document.querySelectorAll(".js-project-page__text");if(e.length){var t=document.documentElement.clientWidth,n=!1,o=function(e){e.target.classList.contains("js-project-page__text-btn")&&function(e){var t=e.parentElement,n=t.querySelector(".project-page__text-container"),o=e.querySelector(".project-page__text-btn-caption");t.classList.toggle("project-page__text--collapsed"),t.classList.contains("project-page__text--collapsed")?(n.style.height="190px",o.textContent="Показать полностью"):(n.style.height=n.scrollHeight+"px",o.textContent="Скрыть")}(e.target)},r=function(){Array.prototype.forEach.call(e,function(e){var t=e.querySelector(".project-page__text-container");190<t.scrollHeight&&(e.classList.add("project-page__text--collapsed","project-page__text--js"),t.style.height="190px")}),document.addEventListener("click",o),n=!0};t<window.const.resolution.TABLET&&r(),window.addEventListener("resize",function(){if(t!==document.documentElement.clientWidth)if((t=document.documentElement.clientWidth)<window.const.resolution.TABLET){if(n)return;r()}else Array.prototype.forEach.call(e,function(e){var t=e.querySelector(".project-page__text-container"),n=e.querySelector(".project-page__text-btn-caption");e.classList.remove("project-page__text--collapsed","project-page__text--js"),t.style.height="",n.textContent="Показать полностью"}),document.removeEventListener("click",o),n=!1})}}(),function(){var t=document.querySelector(".js-project-vote"),n=document.querySelector(".js-vote-popup");if(t&&n){var o=t.querySelector(".js-project-vote__submit-form form"),e=t.querySelector(".js-project-vote__revoke-btn"),r=n.querySelector(".js-vote-popup__revoke-btn"),i=null,s=+t.querySelector(".js-vote-results__value--approve").textContent.replace(/\s+/g,""),c=+t.querySelector(".js-vote-results__value--reject").textContent.replace(/\s+/g,""),l=t.querySelector(".js-vote-results__indicator"),a=function(e){e.preventDefault(),t.classList.remove("project-vote--voted"),o.querySelector(".project-vote__vote-btn--selected").classList.remove("project-vote__vote-btn--selected"),o.reset(),n.classList.remove("vote-popup--shown"),clearTimeout(i)};t.classList.add("project-vote--js"),l.style.width=Math.trunc(s/(s+c)*100)+"%",o.addEventListener("click",function(e){e.target.classList.contains("project-vote__vote-btn")&&!e.target.classList.contains("project-vote__vote-btn--selected")&&(t.classList.add("project-vote--voted"),e.target.classList.add("project-vote__vote-btn--selected"),t.querySelector("input").dispatchEvent(new Event("change")),n.classList.add("vote-popup--shown"),i=setTimeout(function(){n.classList.remove("vote-popup--shown")},5e3))}),e.addEventListener("click",a),r.addEventListener("click",a)}}(),function(){var e=document.querySelector(".js-projects-list");if(e){var t=new window.Ellipsis({lines:3}),n=e.querySelectorAll(".project-item__title");t.add(n)}}(),function(){if(document.querySelector(".proposal-winners__show-map-btn")){var e=document.querySelector(".proposal-winners__show-map-btn"),t=document.querySelector(".proposal-winners__map"),n=document.querySelector(".proposal-winners__close-map-btn");e.addEventListener("click",function(){t.classList.add("proposal-winners__map--show")}),n.addEventListener("click",function(){t.classList.remove("proposal-winners__map--show")})}}(),function(){var r=document.querySelector(".js-upload-image-container");if(r){var n=r.querySelector('input[name="user-images"]'),e=r.querySelector('label[for="user-images"]'),i=[],s=function(){5===i.length?e.classList.add("visually-hidden"):e.classList.remove("visually-hidden")},c=function(){var t=new DataTransfer;i.forEach(function(e){t.items.add(e)}),n.files=t.files},o=function(e,t){var n=document.createElement("div"),o=document.createElement("img");!function(t,n){var e=document.createElement("button");e.setAttribute("type","button"),e.setAttribute("aria-label","удалить загруженное изображение"),t.appendChild(e),e.addEventListener("click",function(){t.remove();var e=i.indexOf(n);-1<e&&(i.splice(e,1),s(),c())})}(n,t),n.appendChild(o),o.setAttribute("src",e),r.insertBefore(n,r.querySelector("label"))};n.addEventListener("change",function(){n.files.length&&(5<n.files.length&&function(){for(var e=new DataTransfer,t=0;t<5;t++)e.items.add(n.files[t]);n.files=e.files}(),n.files.forEach(function(e){if(!(4<i.length)){i.push(e),s();var t=new FileReader;t.addEventListener("load",function(){o(t.result,e)}),t.readAsDataURL(e)}})),c()})}}(),document.querySelectorAll(".js-poll-range").forEach(function(e){initRangeSlider(e)}),function(){var n="js_hide",e=document.querySelector(".js_short_list"),t=document.querySelector(".js_short_list + .js_show_all");if(e&&t){var o=e.querySelectorAll("li");o.forEach(function(e,t){4<t&&e.classList.add(n)}),t.addEventListener("click",function(){o.forEach(function(e){e.classList.remove(n),t.classList.add(n)})})}}(),function(){var t="js-hide",n=document.querySelector(".special-popup"),e=document.querySelectorAll(".js-open-popup");if(n&&e){var o=document.documentElement,r={"font-size":!0,"font-family":!0,theme:!0},i=n.querySelector(".js-close-popup"),s=n.querySelectorAll("[data-property]"),c=n.querySelector(".js-special-popup__reset");s.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t="[data-property="+e.target.getAttribute("data-property")+"]";n.querySelectorAll(t).forEach(function(e){e.classList.remove("active")}),e.target.classList.add("active"),function(e){var t=e.dataset.property,n=e.dataset.value;o.classList.forEach(function(e){new RegExp(t).test(e)&&o.classList.remove(e)}),"default"!==n?(r[t]=!1,o.classList.add("mod-"+t+"-"+n)):r[t]=!0,"font-size"===t&&window.adjustPageContentTopPadding(),c.disabled=r["font-size"]&&r["font-family"]&&r.theme}(e.currentTarget)})}),c.addEventListener("click",function(){o.className.split(" ").forEach(function(e){-1!==e.indexOf("mod-")&&o.classList.remove(e)}),s.forEach(function(e){e.classList.toggle("active","default"===e.dataset.value)}),c.disabled=!0}),e.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),n.classList.remove(t),o.clientWidth<window.const.resolution.DESKTOP&&window.bodyScrollLock.disableBodyScroll(n)})}),i.addEventListener("click",function(){n.classList.add(t),o.clientWidth<window.const.resolution.DESKTOP&&window.bodyScrollLock.enableBodyScroll(n)}),window.addEventListener("keydown",function(e){e.keyCode===window.const.keyCode.ESC&&(e.preventDefault(),n.classList.add(t),o.clientWidth<window.const.resolution.DESKTOP&&window.bodyScrollLock.enableBodyScroll(n))})}}(),function(){var t=document.querySelector(".js-social__link--subscribe, .js-social__link--unsubscribe");if(t){var n=t.querySelector(".social__link-text");t.addEventListener("click",function(e){e.preventDefault(),t.classList.contains("social__link--subscribe")?(n.textContent="Отписаться",t.classList.remove("social__link--subscribe"),t.classList.add("social__link--unsubscribe")):(n.textContent="Подписаться",t.classList.add("social__link--subscribe"),t.classList.remove("social__link--unsubscribe"))})}}(),window.initTable=function(){!function(e){e.length&&Array.prototype.forEach.call(e,function(e){var t="min-width: "+e.scrollWidth+"px;";e.style=t})}(document.querySelectorAll(".table-fixed table")),function(e){e.length&&Array.prototype.forEach.call(e,function(e){return new window.SimpleBar(e,{autoHide:!1})})}(document.querySelectorAll(".table-fixed")),function(e){e.length&&Array.prototype.forEach.call(e,function(e){return new window.SimpleBar(e,{autoHide:!1})})}(document.querySelectorAll(".table-fixed tbody"))},window.initTable(),function(){var o,r;o=document.querySelector(".table-fixed--all-screen table tbody .simplebar-content-wrapper"),r=document.querySelector(".table-popup__header"),(o||r)&&o.addEventListener("scroll",function(){var e=document.querySelector(".table-fixed--all-screen table tr:first-child");if(e){var t=e.scrollHeight+16;if(50<o.scrollTop){r.classList.add("table-popup__header--scroll");var n="top: "+t+"px;";r.style=n}o.scrollTop<50&&r.classList.remove("table-popup__header--scroll")}})}(),function(){var e=document.documentElement.clientWidth,t=document.querySelector(".activity-tabs__list");if(t){var n=t.querySelector(".activity-tabs__item--active");if(n){var o=n.offsetLeft;e<window.const.resolution.TABLET&&(t.scrollLeft=o-16)}}}(),function(){var e=document.querySelectorAll(".js-fit-text");if(e.length){var t=function(){e.forEach(function(e){e.style.fontSize="";for(var t=function(e){return parseInt(getComputedStyle(e).fontSize,10)}(e),n=function(e){return parseInt(getComputedStyle(e).lineHeight,10)}(e);2<=e.offsetHeight/n;)t--,e.style.fontSize=t+"px"})};t(),window.addEventListener("resize",function(){setTimeout(t,50)})}}(),function(){window.openText=function(e){Array.prototype.forEach.call(e,function(e){var t=e.querySelector(".js-text-hidden__btn"),n=t.querySelector("span"),o=e.querySelector(".text-hidden__container"),r=e.querySelector(".text-hidden__btn-wrapper");(t||o||r)&&(54<o.scrollHeight?(o.classList.add("text-hidden__container--close"),t.addEventListener("click",function(e){e.preventDefault(),t.classList.toggle("text-hidden__btn--open"),o.classList.toggle("text-hidden__container--close"),r.classList.toggle("text-hidden__btn-wrapper--open"),n.textContent="Развернуть"===n.textContent?"Свернуть":"Развернуть"})):r.classList.add("text-hidden__btn-wrapper--hidden"))})};var e=document.querySelectorAll(".answers__discussion-col.js-text-hidden");e.length&&window.openText(e)}(),function(){var o=document.querySelector(".js-page-body__up-btn"),e=document.querySelector("footer .container");if(o){var r=document.querySelector(".js-cookie__button");if(e){var t=function(){e.getBoundingClientRect().right+o.offsetWidth<document.documentElement.clientWidth?(o.style.left=e.getBoundingClientRect().right-parseInt(getComputedStyle(e).paddingRight,10)+16+"px",o.style.right=""):(o.style.left="",o.style.right="16px"),r&&(o.style.bottom=window.innerHeight-r.getBoundingClientRect().bottom+(r.getBoundingClientRect().height-o.getBoundingClientRect().height)/2+1+"px")};t(),window.addEventListener("resize",function(){t()})}o.addEventListener("click",function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}),document.addEventListener("click",function(e){if((e.target.classList.contains("js-special-popup__btn-size")||e.target.classList.contains("js-special-popup__reset"))&&r){var t=r.offsetHeight,n=window.innerHeight-r.getBoundingClientRect().bottom;o.style.height=t+"px",o.style.width=t+"px",o.style.bottom=n+"px"}})}}(),function(){var e=document.querySelector(".js-user-menu");if(e){var t=e.querySelector(".js-user-menu__dropdown-btn"),n=t.querySelector(".user-menu__dropdown-btn-text"),o=e.querySelector(".js-user-menu__overlay"),r=e.querySelector(".js-user-menu__list"),i=function(){e.classList.remove("user-menu--open"),o.classList.remove("user-menu__overlay--shown"),n.textContent="Открыть меню пользователя"};t.addEventListener("click",function(){e.classList.contains("user-menu--open")?(i(),r.style.height=""):(e.classList.add("user-menu--open"),o.classList.add("user-menu__overlay--shown"),n.textContent="Закрыть меню пользователя",r.style.height=r.scrollHeight+"px")}),o.addEventListener("click",i),document.addEventListener("keydown",function(e){e.keyCode===window.const.keyCode.ESC&&o.classList.contains("user-menu__overlay--shown")&&(e.preventDefault(),i())})}}(),function(){var e=document.getElementById("widget_count_page"),t=document.getElementById("widget_count_all"),n=document.getElementById("widget_timer"),o=document.getElementById("widget_width_input"),r=document.querySelector(".widget_block__preview__block"),i=5,s=15,c=2e3,l=Math.ceil(s/i+1);if(e||t||n||r){var a=null,u=1,d=function(){$(".swiper-pagination").pagination({items:s,itemsOnPage:i,displayedPages:3,edges:1,cssStyle:"",currentPage:1,prevText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-prev"></use></svg>',nextText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-next"></use></svg>',onPageClick:function(e,t){a.slideTo(e-1,400,!1)}})},p=(a=new Swiper(".swiper-container",{speed:400,autoplay:{delay:c},watchOverflow:!0,grabCursor:!0,loop:!0,allowTouchMove:!1,hashNavigation:!1,on:{init:function(){d()},slideChangeTransitionStart:function(){$(".swiper-pagination").pagination({items:s,itemsOnPage:i,displayedPages:3,edges:1,cssStyle:"",currentPage:u++,prevText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-prev"></use></svg>',nextText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-next"></use></svg>',onPageClick:function(e,t){a.slideTo(e-1,400,!1)}}),u===l&&(u=1)}}}),a=document.querySelector(".swiper-container").swiper,document.createElement("div"));p.classList.add("error"),e&&e.addEventListener("focusout",function(e){if(""!==e.srcElement.value)if(u=1,0<e.srcElement.value&&""!=e.srcElement.value){p.remove(),this.style.border="1px solid #e3e8ee",i=Number(e.srcElement.value),l=Math.ceil(s/i+1),(n=document.querySelector(".swiper-container").swiper).destroy(!0,!0);var n=new Swiper(".swiper-container",{speed:400,autoplay:{delay:c},watchOverflow:!0,grabCursor:!0,loop:!0,allowTouchMove:!1,hashNavigation:!1,on:{init:function(){d()},slideChangeTransitionStart:function(){$(".swiper-pagination").pagination({items:s,itemsOnPage:i,displayedPages:3,edges:1,cssStyle:"",currentPage:u++,prevText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-prev"></use></svg>',nextText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-next"></use></svg>',onPageClick:function(e,t){n.slideTo(e-1,400,!1)}}),u===l&&(u=1)}}});n=document.querySelector(".swiper-container").swiper}else this.parentElement.append(p),this.style.border="1px solid #F3A8A8",p.innerHTML="Количество элементов на странице не может быть 0"}),t&&t.addEventListener("focusout",function(e){if(""!==e.srcElement.value)if(u=1,0<e.srcElement.value&&""!=e.srcElement.value){p.remove(),this.style.border="1px solid #e3e8ee",s=Number(e.srcElement.value),l=Math.ceil(s/i+1),(n=document.querySelector(".swiper-container").swiper).destroy(!0,!0);var n=new Swiper(".swiper-container",{speed:400,autoplay:{delay:c},watchOverflow:!0,grabCursor:!0,loop:!0,allowTouchMove:!1,hashNavigation:!1,on:{init:function(){d()},slideChangeTransitionStart:function(){$(".swiper-pagination").pagination({items:s,itemsOnPage:i,displayedPages:3,edges:1,cssStyle:"",currentPage:u++,prevText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-prev"></use></svg>',nextText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-next"></use></svg>',onPageClick:function(e,t){n.slideTo(e-1,400,!1)}}),u===l&&(u=1)}}});n=document.querySelector(".swiper-container").swiper}else this.parentElement.append(p),this.style.border="1px solid #F3A8A8",p.innerHTML="Общее количество элементов не может быть 0"}),n&&n.addEventListener("focusout",function(e){if(""!==e.srcElement.value)if(u=1,0<e.srcElement.value&&""!=e.srcElement.value){p.remove(),this.style.border="1px solid #e3e8ee",(n=document.querySelector(".swiper-container").swiper).destroy(!0,!0),c=e.srcElement.value;var n=new Swiper(".swiper-container",{speed:400,autoplay:{delay:c},watchOverflow:!0,grabCursor:!0,loop:!0,allowTouchMove:!1,hashNavigation:!1,on:{init:function(){d()},slideChangeTransitionStart:function(){$(".swiper-pagination").pagination({items:s,itemsOnPage:i,displayedPages:3,edges:1,cssStyle:"",currentPage:u++,prevText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-prev"></use></svg>',nextText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-next"></use></svg>',onPageClick:function(e,t){n.slideTo(e-1,400,!1)}}),u===l&&(u=1)}}});n=document.querySelector(".swiper-container").swiper}else this.parentElement.append(p),this.style.border="1px solid #F3A8A8",p.innerHTML="Время не может быть пустым"}),o&&o.addEventListener("focusout",function(e){if(""!==e.srcElement.value)if(u=1,320<=e.srcElement.value){r.style.width=e.srcElement.value+"px",p.remove(),this.style.border="1px solid #e3e8ee",(n=document.querySelector(".swiper-container").swiper).destroy(!0,!0);var n=new Swiper(".swiper-container",{speed:400,autoplay:{delay:c},watchOverflow:!0,grabCursor:!0,loop:!0,allowTouchMove:!1,hashNavigation:!1,on:{init:function(){d()},slideChangeTransitionStart:function(){$(".swiper-pagination").pagination({items:s,itemsOnPage:i,displayedPages:3,edges:1,cssStyle:"",currentPage:u++,prevText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-prev"></use></svg>',nextText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-next"></use></svg>',onPageClick:function(e,t){n.slideTo(e-1,400,!1)}}),u===l&&(u=1)}}});n=document.querySelector(".swiper-container").swiper}else this.parentElement.append(p),this.style.border="1px solid #F3A8A8",p.innerHTML="Ширина должна быть не менее 320px"})}}(),function(){var e=document.querySelector(".js-widget-open"),t=document.querySelector(".widget-popup");e&&e.addEventListener("click",function(){t.classList.add("popup--shown")})}(),function(){var n,o,e,t,r=window.Scrollbar,i=document.querySelector("#widget-select-type"),s=document.querySelector("#widget-select-level"),c=document.querySelector("#widget_block-preview-select"),l=document.querySelector(".widget_block__selected_preview");function a(e){new window.SlimSelect({select:e,showSearch:!1,placeholder:"Тип виджета",data:n,afterOpen:function(){r.init(document.querySelector(".form-select .ss-list"),{continuousScrolling:!1})}})&&r.init(document.querySelector(".form-select .ss-main .ss-content .ss-list"),{continuousScrolling:!1})}i&&(e=i,new window.SlimSelect({select:e,showSearch:!1,onChange:function(e){n=new Array,o=new Object;for(var t=0;t<e.length;t++)(o={}).text=e[t].value,n.push(o);1<n.length?l.classList.add("ss-arrow-show"):l.classList.remove("ss-arrow-show"),a(c)},afterOpen:function(){r.init(document.querySelector(".form-select .ss-list"),{continuousScrolling:!1})}})&&r.init(document.querySelector(".form-select .ss-main .ss-content .ss-list"),{continuousScrolling:!1})),s&&(t=s,new window.SlimSelect({select:t,showSearch:!1,afterOpen:function(){r.init(document.querySelector(".form-select .ss-list"),{continuousScrolling:!1})}})&&r.init(document.querySelector(".form-select .ss-main .ss-content .ss-list"),{continuousScrolling:!1})),c&&a(c)}();
