"use strict";function initRangeSlider(r){var s,e,t,n;!r||(s=document.getElementById(r.dataset.input))&&(e=parseInt(r.dataset.min,10),t=parseInt(r.dataset.max,10),n=s.value||t/2,window.noUiSlider.create(r,{start:n,behaviour:"snap",connect:"lower",step:parseInt(r.dataset.step,10),range:{min:[e],max:[t]},pips:{mode:"steps",stepped:!0,density:4},tooltips:!0,format:window.wNumb({decimals:0})}),r.noUiSlider.on("update",function(e,t){var t=e[t],n=Math.max(e),o=r.querySelectorAll(".noUi-marker-horizontal.noUi-marker-sub");if(s.value=t,o)for(var i=0;i<o.length;i++)i<=n-2?o[i].classList.add("form-range__accent"):o[i].classList.remove("form-range__accent")}))}!function(){var e=document.querySelectorAll(".js-button-favorive");function t(e){e.target.classList.toggle("button-star--active")}e&&e.forEach(function(e){e.addEventListener("click",t)})}(),function(){function e(e,t){Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(e){e.preventDefault(),window.openPopup(t);e=t.querySelectorAll(".js-text-hidden");e.length&&window.openText(e),window.initTable()})})}var t=document.querySelector(".js-comment-popup--add"),n=document.querySelectorAll(".js-comment-add");t&&n.length&&e(n,t),n=document.querySelector(".js-comment-popup--edit"),t=document.querySelectorAll(".js-comment-edit"),n&&t.length&&e(t,n),t=document.querySelector(".js-comment-popup--your"),n=document.querySelectorAll(".js-comment-your"),t&&n.length&&e(n,t),n=document.querySelector(".js-table-popup"),t=document.querySelectorAll(".js-table"),n&&t.length&&e(t,n),t=document.querySelector(".js-comment-popup--table"),n=document.querySelectorAll(".js-comment-table"),t&&n.length&&e(n,t)}(),function(){var e,t,n;document.querySelector(".commentary-add")&&(e=document.querySelector(".commentary-add__textarea"),t=e.querySelector("textarea"),n=e.querySelector("#textarea-error-field"),t.addEventListener("input",function(){500<=t.value.length?(e.classList.add("commentary-add__textarea--warning"),n.textContent="Осталось символов: "+Math.abs(1e3-t.value.length)):e.classList.remove("commentary-add__textarea--warning"),1e3<=t.value.length?(e.classList.add("commentary-add__textarea--error"),n.textContent="Вы превысили лимит символов на "+Math.abs(1e3-t.value.length)):e.classList.remove("commentary-add__textarea--error")}))}(),function(){var s,c,a,e,t,l;document.querySelector("#edit-comment")&&(s=document.querySelector(".hearings__comments"),c=document.querySelector(".your-comment"),a=document.querySelector("#edit-comment-block"),e=c.querySelector("#edit-comment"),t=c.querySelector("#delete-comment"),l=c.querySelector(".your-comment__text"),t.addEventListener("click",function(e){e.preventDefault(),c.remove()}),e.addEventListener("click",function(e){e.preventDefault(),c.classList.add("visually-hidden");var t=a.content.firstElementChild.cloneNode(!0),n=t.querySelector(".commentary-add__textarea"),o=n.querySelector("textarea"),i=n.querySelector("#textarea-error-field"),r=t.querySelector("#commentary-save");t.querySelector("textarea").value=l.innerText,o.addEventListener("input",function(){500<=o.value.length?(n.classList.add("commentary-add__textarea--warning"),i.textContent="Осталось символов: "+Math.abs(1e3-o.value.length)):n.classList.remove("commentary-add__textarea--warning"),1e3<=o.value.length?(n.classList.add("commentary-add__textarea--error"),i.textContent="Вы превысили лимит символов на "+Math.abs(1e3-o.value.length)):n.classList.remove("commentary-add__textarea--error")}),r.addEventListener("click",function(){e.preventDefault(),0<o.value.length&&o.value.length<1e3&&(l.innerText=o.value,t.remove(),c.classList.remove("visually-hidden"))}),s.prepend(t)}))}(),function(){var t,e,n,o=document.querySelector(".js-answers__form");o&&(t=o.querySelector(".js-count-answer"),e=document.querySelector(".js-answers__count"),n=document.querySelector(".js-answers__all-count"),(t||e||n)&&(e.addEventListener("mouseover",function(){t.focus()}),t.onblur=function(){t.value<1?t.value=1:t.value>+n.textContent&&(t.value=+n.textContent),e.classList.remove("answers__count--hover")},t.onfocus=function(){e.classList.add("answers__count--hover")},t.oninput=function(){t.value=t.value.replace(/[^\+\d]/g,""),t.focus(),e.classList.add("answers__count--hover")},o.addEventListener("submit",function(e){e.preventDefault(),t.blur()})))}(),function(){var e,t,n,o,i,r,s,c;document.querySelector(".confirmation-popup")&&(t=(e=document.querySelector(".confirmation-popup")).querySelector(".confirmation-popup__body"),n=document.querySelector("#improvement-submit-btn"),o=e.querySelector(".confirmation-popup__close-btn"),i=e.querySelector(".confirmation-popup__back-btn"),r=27,s=function(e){var t;t=c,e.keyCode===r&&t()},c=function(){e.classList.remove("confirmation-popup--show"),document.querySelector("body").style.overflow="visible",document.removeEventListener("keydown",s)},n.addEventListener("click",function(){e.classList.add("confirmation-popup--show"),document.querySelector("body").style.overflow="hidden",document.addEventListener("keydown",s)}),o.addEventListener("click",c),i.addEventListener("click",c),e.addEventListener("click",c),t.addEventListener("click",function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!1}))}(),window.const={keyCode:{ENTER:13,ESC:27},resolution:{DESKTOP:1200,TABLET:768,MOBILE:320}},function(){var e=document.querySelector(".js_cookie"),t=document.querySelector(".js-cookie__button");e&&t&&(document.body.classList.add("page-body--cookie"),t.addEventListener("click",function(){e.classList.add("js_hide"),document.body.classList.remove("page-body--cookie")}))}(),function(){var e=document.querySelectorAll(".js-collapse-button");e.length&&e.forEach(function(e){var t=e.parentElement.querySelector(".js-collapse-content");t.style.setProperty("--height",t.scrollHeight+"px");function n(){"false"===t.getAttribute("data-collapsed")?(t.setAttribute("data-collapsed","true"),o.textContent="Контакты",e.classList.remove("collapsed")):(t.setAttribute("data-collapsed","false"),o.textContent="Свернуть",e.classList.add("collapsed"))}var o=e.querySelector("span");n(),e.addEventListener("click",n)})}(),function(){var e,t,n,o,i,r,s,c,a=document.querySelector(".js-upload-file-container");a&&(e=a.querySelector('input[id="user-files"]'),t=e.cloneNode(!0),n=a.querySelector('label[for="user-files"]'),o=a.querySelector(".file-uploads__preview-container"),i=[],r=function(){5===i.length?n.classList.add("visually-hidden"):n.classList.remove("visually-hidden")},s=function(t,n){var e=document.createElement("button");e.setAttribute("type","button"),e.setAttribute("aria-label","удалить загруженные данные"),t.appendChild(e),e.addEventListener("click",function(){t.remove();var e=i.indexOf(n);-1<e&&(i.splice(e,1),r())})},c=function(e){var t=document.createElement("div");t.classList.add("file-wrapper");var n=document.createElement("span");n.textContent=e.name,t.appendChild(n),s(t,e),o.appendChild(t),e=t,(t=a.querySelector("#user-files").cloneNode(!0)).removeAttribute("id"),e.appendChild(t)},o.querySelectorAll(".file-wrapper").forEach(function(e){var t=e.querySelector("span");i.push(t),s(e,t)}),e.addEventListener("change",function(){e.files.length&&e.files.forEach(function(e){i.push(e),r(),c(e)}),e.files=t.files}))}(),function(){function e(t){var e;t&&(e=t.querySelector(".js-filter__open-btn"),t.classList.add("filter--js"),e.addEventListener("click",function(e){t.classList.toggle("filter--open"),e.currentTarget.textContent=t.classList.contains("filter--open")?"Скрыть фильтры":"Фильтры"}))}e(document.querySelector(".js-filter")),window.initJsFilter=e}(),function(){function t(e){var t=new window.SlimSelect({select:e,showSearch:!1,showContent:"down",placeholder:e.dataset.placeholderText||"",allowDeselect:!!e.dataset.deselect,deselectLabel:'<button type="button"><span class="visually-hidden">Сбросить фильтр по голосам</span><svg width="12" height="12" viewBox="0 0 12 12"><path d="M1 1L11 11M11 1L1 11" stroke-width="2"/></svg></button>',afterClose:function(){window.Scrollbar.destroy(document.querySelector(".form-select .ss-list"))},afterOpen:function(){window.Scrollbar.init(document.querySelector(".form-select .ss-list"),{continuousScrolling:!1})}}),n=t.slim.container,o=e.querySelectorAll("option[title]"),i=n.querySelectorAll(".ss-option[data-id]");return n.setAttribute("title",e.title),o.forEach(function(e,t){i[t].setAttribute("title",e.title)}),t}var e;(e=document.querySelectorAll(".js-form-select select")).forEach(function(e){t(e)}),(e=document.querySelector(".js-form-select-improvement select"))&&(e=e,new window.SlimSelect({select:e,showSearch:!1})),window.addSelect=t}(),function(){var i,r,s,c,a,l,u,d,p=document.querySelector(".js-gallery-popup");p&&(i=p.querySelector(".js-gallery-popup__frame"),r=p.querySelector(".js-gallery-popup__nav-btn--prev"),s=p.querySelector(".js-gallery-popup__nav-btn--next"),c=p.querySelector(".js-gallery-popup__photo-description"),a=p.querySelector(".js-gallery-popup__counter-current"),l=p.querySelector(".js-gallery-popup__counter-total"),u=p.querySelector(".popup__bar--bottom"),d=null,document.addEventListener("click",function(e){var t,n,o;e.target.classList.contains("js-gallery__item-link")&&(e.preventDefault(),d&&(d.destroy(),i.innerHTML=""),window.openPopup(p),t=e.target,n=t.parentElement.parentElement.children,e=t.querySelector(".gallery__item-text"),(o=document.createElement("div")).classList.add("swiper-wrapper"),Array.prototype.forEach.call(n,function(e){e=e.querySelector(".gallery__item").cloneNode(!0);e.classList.add("swiper-slide"),o.appendChild(e)}),i.appendChild(o),d=new window.Swiper(i,{initialSlide:+t.dataset.index,slidesPerView:1,watchOverflow:!0,grabCursor:!0,loop:!0,navigation:{prevEl:r,nextEl:s},on:{slideChange:function(){c.textContent=n[this.realIndex].querySelector(".gallery__item-text").textContent,a.textContent=+this.realIndex+1}}}),c.textContent=e.textContent,a.textContent=+t.dataset.index+1,l.textContent=n.length,n.length<=1&&u.classList.add("d-none"))}))}(),function(){var e=document.querySelectorAll(".js-gallery");e.length&&e.forEach(function(e){e.querySelectorAll(".js-gallery__item-link").forEach(function(e,t){e.dataset.index=t}),e=e,new window.Swiper(e,{slidesPerView:"auto",spaceBetween:16,breakpoints:{320:{spaceBetween:12}},watchOverflow:!0,grabCursor:!0})})}(),function(){var t,n,o;document.querySelector(".hearings-result__status-info")&&(t=document.querySelector(".hearings__result"),n=t.querySelector(".hearings-result__status-info"),o=document.querySelector("#poll-result"),n.addEventListener("click",function(e){e.preventDefault(),n.remove();e=o.content.firstElementChild.cloneNode(!0);t.append(e)}))}(),function(){function t(e){var t,n,o,i,r=e.querySelector(".info-banner__text"),s=e.querySelector(".info-banner__button");r&&s&&!e.classList.contains("info-banner_enough-lines_true")&&!e.classList.contains("info-banner_enough-lines_false")&&(t=s.querySelector(".info-banner-button__text"),n=function(){s.classList.contains("opened")?t.textContent="Свернуть":t.textContent="Развернуть"},o=r.getBoundingClientRect().height,i=+getComputedStyle(r).lineHeight.replace("px",""),o=Math.ceil(o/i),console.log(o),i=3,e.querySelector(".info-banner__title")&&(i=2),i<o?(e.classList.add("info-banner_enough-lines_true"),s.addEventListener("click",function(e){e.currentTarget.classList.toggle("opened"),r.classList.toggle("opened"),n()})):(e.classList.add("info-banner_enough-lines_false"),n()))}var e=document.querySelectorAll(".info-banner");0<e.length&&e.forEach(function(e){t(e)}),window.initInfoBannerToggle=t}(),function(){var e,t;document.querySelectorAll(".info-tooltip").length&&(e=function(e){var t=e.target.closest(".info-tooltip");if(t){t.classList.add("shown");var n=t.querySelector(".info-tooltip__text"),e=n.getBoundingClientRect();if(e.left<=20)return n.style.left=-(t.getBoundingClientRect().left-20)+"px",void n.classList.add("info-tooltip__text--side-close");e.right>=document.documentElement.clientWidth-20&&(n.style.right=-(document.documentElement.clientWidth-t.getBoundingClientRect().right-20)+"px",n.classList.add("info-tooltip__text--side-close"))}},t=function(e){e=e.target.closest(".info-tooltip");e&&(e.classList.remove("shown"),(e=e.querySelector(".info-tooltip__text")).classList.remove("info-tooltip__text--side-close"),e.style="")},document.addEventListener("mouseover",e),document.addEventListener("mouseout",t),document.addEventListener("focusin",e),document.addEventListener("focusout",t))}(),function(){document.querySelector(".landscaping-form__section.map-section");var c,a=document.querySelector("#map-hidden"),l=document.querySelector("#map-search"),e=document.querySelector("#map"),u=document.querySelector("#user-coords");e&&(c=e.getAttribute("data-icon"),ymaps.ready(function(){var o,n,t,e=new ymaps.SuggestView("map-search");{var i;u.value?ymaps.geocode(u.value,{}).then(function(e){e=e.geoObjects.get(0).geometry.getCoordinates();o=new ymaps.Map("map",{center:e,zoom:15,controls:["zoomControl"]},{searchControlProvider:"yandex#search",suppressMapOpenBlock:!0}),n=new ymaps.GeoObject({geometry:{type:"Point",coordinates:e}},{iconLayout:"default#image",iconImageHref:c,iconImageSize:[36,54],draggable:!0}),a.value=e,o.geoObjects.add(n),o.geoObjects.events.add(["dragend"],function(e){e=o.options.get("projection").fromGlobalPixels(o.converter.pageToGlobal(e.get("position")),o.getZoom());s(a.value=e),ymaps.geocode(e).then(function(e){document.querySelector("#map-search").value=e.geoObjects.get(0).getAddressLine(),$(l).trigger("keyup")})}),o.events.add("click",function(e){e=e.get("coords");ymaps.geocode(e).then(function(e){document.querySelector("#map-search").value=e.geoObjects.get(0).getAddressLine(),$(l).trigger("keyup")}),r(e)})}):a.value?(i=a.value.split(",").map(function(e){return Number(e)}),o=new ymaps.Map("map",{center:i,zoom:15,controls:["zoomControl"]},{searchControlProvider:"yandex#search",suppressMapOpenBlock:!0}),n=new ymaps.GeoObject({geometry:{type:"Point",coordinates:i}},{iconLayout:"default#image",iconImageHref:c,iconImageSize:[36,54],draggable:!0}),ymaps.geocode(i).then(function(e){document.querySelector("#map-search").value=e.geoObjects.get(0).getAddressLine(),$(l).trigger("keyup")}),o.geoObjects.add(n),o.geoObjects.events.add(["dragend"],function(e){e=o.options.get("projection").fromGlobalPixels(o.converter.pageToGlobal(e.get("position")),o.getZoom());s(a.value=e),ymaps.geocode(e).then(function(e){document.querySelector("#map-search").value=e.geoObjects.get(0).getAddressLine(),$(l).trigger("keyup")})}),o.events.add("click",function(e){e=e.get("coords");ymaps.geocode(e).then(function(e){document.querySelector("#map-search").value=e.geoObjects.get(0).getAddressLine(),$(l).trigger("keyup")}),r(e)})):l.value?ymaps.geocode(l.value,{}).then(function(e){e=e.geoObjects.get(0).geometry.getCoordinates();o=new ymaps.Map("map",{center:e,zoom:15,controls:["zoomControl"]},{searchControlProvider:"yandex#search",suppressMapOpenBlock:!0}),n=new ymaps.GeoObject({geometry:{type:"Point",coordinates:e}},{iconLayout:"default#image",iconImageHref:c,iconImageSize:[36,54],draggable:!0}),a.value=e,o.geoObjects.add(n),o.geoObjects.events.add(["dragend"],function(e){e=o.options.get("projection").fromGlobalPixels(o.converter.pageToGlobal(e.get("position")),o.getZoom());s(a.value=e),ymaps.geocode(e).then(function(e){document.querySelector("#map-search").value=e.geoObjects.get(0).getAddressLine(),$(l).trigger("keyup")})}),o.events.add("click",function(e){e=e.get("coords");ymaps.geocode(e).then(function(e){document.querySelector("#map-search").value=e.geoObjects.get(0).getAddressLine(),$(l).trigger("keyup")}),r(e)})}):(o=new ymaps.Map("map",{center:[55.753994,37.622093],zoom:15,controls:["zoomControl"]},{searchControlProvider:"yandex#search",suppressMapOpenBlock:!0}),n=new ymaps.GeoObject({geometry:{type:"Point",coordinates:[55.753994,37.622093]}},{iconLayout:"default#image",iconImageHref:c,iconImageSize:[36,54],draggable:!0}),o.geoObjects.add(n),o.geoObjects.events.add(["dragend"],function(e){e=o.options.get("projection").fromGlobalPixels(o.converter.pageToGlobal(e.get("position")),o.getZoom());s(a.value=e),ymaps.geocode(e).then(function(e){document.querySelector("#map-search").value=e.geoObjects.get(0).getAddressLine(),$(l).trigger("keyup")})}),o.events.add("click",function(e){e=e.get("coords");ymaps.geocode(e).then(function(e){document.querySelector("#map-search").value=e.geoObjects.get(0).getAddressLine(),$(l).trigger("keyup")}),r(e)}))}function r(e){var t;a.value=e,n?n.geometry.setCoordinates(e):(t=e,n=new ymaps.GeoObject({geometry:{type:"Point",coordinates:t}},{iconLayout:"default#image",iconImageHref:c,iconImageSize:[36,54],draggable:!0}),o.geoObjects.add(n),n.events.add("dragend",function(){s(n.geometry.getCoordinates())})),s(e)}function s(e){ymaps.geocode(e).then(function(e){t=e.geoObjects.get(0),n.properties.set({iconCaption:[t.getLocalities().length?t.getLocalities():t.getAdministrativeAreas(),t.getThoroughfare()||t.getPremise()].filter(Boolean).join(", "),balloonContent:t.getAddressLine()})})}e.events.add("select",function(n){ymaps.geocode(n.get("item").value,{}).then(function(e){var t=e.geoObjects.get(0),e=t.geometry.getCoordinates(),t=t.properties.get("boundedBy");n.get("item").value,r(e),o.setBounds(t,{checkZoomRange:!0})})})}))}(),function(){var e=document.querySelectorAll(".js-like-counter"),t="js_likes_container";function n(e){var t,n=e.currentTarget;n.parentElement.querySelector(".liked")||(t=n.querySelector("span"),e=parseInt(t.textContent,10),n.classList.contains("liked")?(n.classList.remove("liked"),--e):(n.classList.add("liked"),e++),t.textContent=e,o(n))}function o(e){e=e.parentElement;e.classList.contains(t)&&e.querySelector("button:not(.liked)")&&e.querySelectorAll("button").forEach(function(e){e.removeEventListener("click",n)})}e.length&&e.forEach(function(e){e.addEventListener("click",n)})}(),function(){var e=document.querySelector(".js-location-switcher");e&&e.classList.add("location-switcher--js")}(),function(){var e,t,n,o,i,r,s,c,a,l=document.querySelector(".js-page-header");l&&(e=document.documentElement.clientWidth,t=l.querySelector(".js-page-header__bar"),n=l.querySelector(".js-main-menu"),o=n.querySelector(".container"),i=l.querySelector(".js-menu-btn"),r=i.querySelector(".menu-btn__text"),s=document.querySelectorAll(".js-open-popup"),c=function(){n.style.height=l.classList.contains("page-header--open-menu")&&document.documentElement.clientWidth<window.const.resolution.DESKTOP?window.innerHeight-t.offsetHeight+"px":""},a=function(){l.classList.remove("page-header--open-menu"),window.bodyScrollLock.enableBodyScroll(o),i.classList.remove("menu-btn--close"),r.textContent="Открыть основное меню",window.adjustPageContentTopPadding()},i.addEventListener("click",function(){l.classList.contains("page-header--open-menu")?a():(l.classList.add("page-header--open-menu"),window.bodyScrollLock.disableBodyScroll(o),i.classList.add("menu-btn--close"),r.textContent="Закрыть основное меню"),c()}),s.forEach(function(e){e.addEventListener("click",a)}),window.addEventListener("resize",function(){e!==document.documentElement.clientWidth&&(e=document.documentElement.clientWidth,a()),c()}))}(),function(){var a=$("#improvement-map");0<!a.length||ymaps.ready(function(){var o=new ymaps.Map(a[0],{center:[55.76,37.64],controls:[],zoom:15},{searchControlProvider:"yandex#search"}),e=(new ymaps.ObjectManager({clusterize:!0,gridSize:32,clusterDisableClickZoom:!0}),ymaps.templateLayoutFactory.createClass("<div class='map-buttons'><div id='zoom-in'></div><div id='zoom-out'></div></div>",{build:function(){e.superclass.build.call(this),this.zoomInCallback=ymaps.util.bind(this.zoomIn,this),this.zoomOutCallback=ymaps.util.bind(this.zoomOut,this),$("#zoom-in").bind("click",this.zoomInCallback),$("#zoom-out").bind("click",this.zoomOutCallback)},clear:function(){$("#zoom-in").unbind("click",this.zoomInCallback),$("#zoom-out").unbind("click",this.zoomOutCallback),e.superclass.clear.call(this)},zoomIn:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()-1,{checkZoomRange:!0})}})),t=new ymaps.control.ZoomControl({options:{layout:e}}),n=ymaps.templateLayoutFactory.createClass("<div><div id='user-location'></div>",{build:function(){n.superclass.build.call(this),this.getLocation=ymaps.util.bind(this.userLocation,this),$("#user-location").bind("click",this.getLocation)},clear:function(){$("#user-location").unbind("click",this.getLocation),n.superclass.clear.call(this)},userLocation:function(){ymaps.geolocation.get({provider:"browser",mapStateAutoApply:!0}).then(function(e){e.geoObjects.options.set("preset","islands#blueCircleIcon"),o.geoObjects.add(e.geoObjects)})}}),i=new ymaps.control.GeolocationControl({options:{layout:n}});400<=window.innerWidth&&(o.controls.add(t,{float:"none",position:{right:"8px",top:"244px"}}),o.controls.add(i,{float:"none",position:{right:"8px",top:"324px"}}));var r=[];r=window.innerWidth<400?[-5,32]:[43,-27];var s=new ymaps.Clusterer({clusterIconLayout:ymaps.templateLayoutFactory.createClass('<div class="cluster-icon"><span>{{ properties.geoObjects.length }}</span></div>'),clusterIconShape:{type:"Rectangle",coordinates:[[0,0],[49,49]]}});o.events.add("balloonopen",function(e){e.get("target").options.set({iconImageHref:"img/pin-hover.svg"})}),o.events.add("balloonclose",function(e){e.get("target").options.set({iconImageHref:"img/pin.svg"})});var c=ymaps.templateLayoutFactory.createClass('<div class="popover right"><button type="button" aria-label="Закрыть информацию" class="close"></button><div class="arrow"></div><div class="popover-inner">$[[options.contentLayout observeSize minWidth=300 maxWidth=300 maxHeight=500]]</div></div>',{build:function(){this.constructor.superclass.build.call(this),this._$element=$(".popover",this.getParentElement()),this.applyElementOffset(),this._$element.find(".close").on("click",$.proxy(this.onCloseClick,this))},clear:function(){this._$element.find(".close").off("click"),this.constructor.superclass.clear.call(this)},onSublayoutSizeChange:function(){c.superclass.onSublayoutSizeChange.apply(this,arguments),this._isElement(this._$element)&&(this.applyElementOffset(),this.events.fire("shapechange"))},applyElementOffset:function(){window.innerWidth<400?this._$element.css({top:0}):this._$element.css({top:-this._$element[0].offsetHeight/2})},onCloseClick:function(e){e.preventDefault(),this.events.fire("userclose")},getShape:function(){if(!this._isElement(this._$element))return c.superclass.getShape.call(this);var e=this._$element.position();return new ymaps.shape.Rectangle(new ymaps.geometry.pixel.Rectangle([[e.left,e.top],[e.left+this._$element[0].offsetWidth+200,e.top+this._$element[0].offsetHeight+this._$element.find(".arrow")[0].offsetHeight]]))},_isElement:function(e){return e&&e[0]&&e.find(".arrow")[0]}}),i=a.data("link");ymaps.geoXml.load(i).then(function(e){var t=e.geoObjects.toArray();0<t.length&&o.setCenter([t[0].geometry._coordinates[0],t[0].geometry._coordinates[1]]);for(var n=0;n<t.length;n++)t[n].geometry._coordPath?o.geoObjects.add(t[n]):(t[n].options.set({balloonLayout:c,iconLayout:"default#image",iconImageHref:"img/pin.svg",iconImageSize:[28,40],hideIconOnBalloonOpen:!1,balloonPanelMaxMapArea:0,balloonOffset:r}),s.add(t[n]));o.geoObjects.add(s),e.mapState?e.mapState.applyToMap(o):o.setBounds(e.geoObjects.getBounds())})})}(),function(){var t,n,e=document.querySelector(".js-moderator-comments");e&&(t=e.parentElement,n=window.debounce(function(){t.style.height="auto",t.style.height=t.scrollHeight+"px"},150),e.addEventListener("click",function(){var e;t.classList.contains("comments-tab--opened")?(t.classList.remove("comments-tab--opened"),t.removeAttribute("style"),window.removeEventListener("resize",n)):(t.classList.add("comments-tab--opened"),e=t.scrollHeight,t.style.height=e+"px",window.addEventListener("resize",n))}))}(),function(){var e,t,n,o=document.querySelector(".js-page-header");o&&(e=o.querySelector(".js-page-header__bar"),t=function(){document.documentElement.clientWidth>=window.const.resolution.DESKTOP&&0<window.pageYOffset?(o.classList.add("page-header--above-content"),o.style.top=-e.offsetHeight+"px"):(o.classList.remove("page-header--above-content"),o.style.top=0)},n=function(){document.body.style.paddingTop=o.offsetHeight+"px"},o.classList.add("page-header--js"),n(),t(),document.addEventListener("scroll",t),window.addEventListener("resize",function(){o.classList.remove("page-header--above-content"),n(),t()}),window.adjustPageContentTopPadding=n)}(),function(){var e=document.querySelectorAll(".js-popup");function o(e){window.bodyScrollLock.enableBodyScroll(e),e.classList.remove("popup--shown")}window.openPopup=function(e){window.bodyScrollLock.disableBodyScroll(e),e.classList.add("popup--shown")},e.forEach(function(n){var e=n.querySelector(".js-popup__overlay"),t=n.querySelector(".js-popup__close-btn");e.addEventListener("click",function(){o(n)}),t.addEventListener("click",function(){o(n)}),document.addEventListener("keydown",function(e){var t;t=n,(e=e).keyCode===window.const.keyCode.ESC&&t.classList.contains("popup--shown")&&(e.preventDefault(),o(t))})})}(),function(){var e,t,n,o,i=document.querySelector(".js-project-page__panel");i&&(i.classList.add("project-page__panel--js"),e=document.querySelector(".container--desktop-only"),t=e.getBoundingClientRect().height,n=i.getBoundingClientRect().height,o=e.querySelector(".info-banner"),i=0,o&&(i=o.getBoundingClientRect().height),t&&n&&(e.style.minHeight=n+50+i+"px"),new window.Sticky(".js-project-page__panel"))}(),function(){var e,t,n,o,i=document.querySelectorAll(".js-project-page__text");i.length&&(e=document.documentElement.clientWidth,t=!1,n=function(e){var t,n;e.target.classList.contains("js-project-page__text-btn")&&(t=e.target,n=t.parentElement,e=n.querySelector(".project-page__text-container"),t=t.querySelector(".project-page__text-btn-caption"),n.classList.toggle("project-page__text--collapsed"),n.classList.contains("project-page__text--collapsed")?(e.style.height="190px",t.textContent="Показать полностью"):(e.style.height=e.scrollHeight+"px",t.textContent="Скрыть"))},o=function(){Array.prototype.forEach.call(i,function(e){var t=e.querySelector(".project-page__text-container");190<t.scrollHeight&&(e.classList.add("project-page__text--collapsed","project-page__text--js"),t.style.height="190px")}),document.addEventListener("click",n),t=!0},e<window.const.resolution.TABLET&&o(),window.addEventListener("resize",function(){e!==document.documentElement.clientWidth&&((e=document.documentElement.clientWidth)<window.const.resolution.TABLET?t||o():(Array.prototype.forEach.call(i,function(e){var t=e.querySelector(".project-page__text-container"),n=e.querySelector(".project-page__text-btn-caption");e.classList.remove("project-page__text--collapsed","project-page__text--js"),t.style.height="",n.textContent="Показать полностью"}),document.removeEventListener("click",n),t=!1))}))}(),function(){var t,e,n,o,i,r,s,c,a=document.querySelector(".js-project-vote"),l=document.querySelector(".js-vote-popup");a&&l&&(t=a.querySelector(".js-project-vote__submit-form form"),e=a.querySelector(".js-project-vote__revoke-btn"),n=l.querySelector(".js-vote-popup__revoke-btn"),o=null,i=+a.querySelector(".js-vote-results__value--approve").textContent.replace(/\s+/g,""),r=+a.querySelector(".js-vote-results__value--reject").textContent.replace(/\s+/g,""),s=a.querySelector(".js-vote-results__indicator"),c=function(e){e.preventDefault(),a.classList.remove("project-vote--voted"),t.querySelector(".project-vote__vote-btn--selected").classList.remove("project-vote__vote-btn--selected"),t.reset(),l.classList.remove("vote-popup--shown"),clearTimeout(o)},a.classList.add("project-vote--js"),s.style.width=Math.trunc(i/(i+r)*100)+"%",t.addEventListener("click",function(e){e.target.classList.contains("project-vote__vote-btn")&&!e.target.classList.contains("project-vote__vote-btn--selected")&&(a.classList.add("project-vote--voted"),e.target.classList.add("project-vote__vote-btn--selected"),a.querySelector("input").dispatchEvent(new Event("change")),l.classList.add("vote-popup--shown"),o=setTimeout(function(){l.classList.remove("vote-popup--shown")},5e3))}),e.addEventListener("click",c),n.addEventListener("click",c))}(),function(){var e,t=document.querySelector(".js-projects-list");t&&(e=new window.Ellipsis({lines:3}),t=t.querySelectorAll(".project-item__title"),e.add(t))}(),function(){var e,t,n;document.querySelector(".proposal-winners__show-map-btn")&&(e=document.querySelector(".proposal-winners__show-map-btn"),t=document.querySelector(".proposal-winners__map"),n=document.querySelector(".proposal-winners__close-map-btn"),e.addEventListener("click",function(){t.classList.add("proposal-winners__map--show")}),n.addEventListener("click",function(){t.classList.remove("proposal-winners__map--show")}))}(),function(){function r(e,t,n){t.classList.add("image-loaded");var o,i,r,o=((o=document.createElement("button")).setAttribute("type","button"),o.setAttribute("aria-label","удалить загруженное изображение"),o);i=t,r=e,o.addEventListener("click",function(){i.remove(),s(r)||c(r)||a(r)},{once:!0}),t.appendChild(o),n&&t.append(n)}function s(e){return e.querySelector(".image-uploads__image-wrapper:not(.image-loaded)")}function c(e){return 5===e.querySelectorAll(".image-uploads__image-wrapper").length}function a(e,t){var n,o,i=((o=document.createElement("div")).classList.add("image-uploads__image-wrapper"),o),o=(n=t,(o=document.createElement("input")).classList.add("visually-hidden"),o.setAttribute("type","file"),o.setAttribute("name",n),o.setAttribute("accept","image/png, image/jpeg, image/jpg, image/gif"),o.setAttribute("accept","image/png, image/jpeg, image/jpg, image/gif"),o.setAttribute("aria-label","user-images"),o);l(o,i,t);(t=document.createElement("span")).innerHTML="Загрузить изображение";i.append(o,t),e.append(i)}function l(e,o,i){e.addEventListener("change",function(e){var e=e.target.files[0],n=new FileReader;n.addEventListener("load",function(){var e,t,t=(e=n.result,(t=document.createElement("img")).setAttribute("src",e),t);r(u,o,t),s(u)||c(u)||a(u,i)}),n.readAsDataURL(e)})}var u=document.querySelector(".js-upload-image-container");if(u){var e=document.querySelectorAll(".image-uploads__image-wrapper"),t=" ";if(0<e.length)for(var n=0;n<e.length;n++){var o=e[n].querySelector('input[type="file"]');if(o){o=o.getAttribute("name");if(o){t=o;break}}}e.forEach(function(e){e.querySelector("img")?r(u,e):l(e.querySelector('input[type="file"]'),e,t)})}}(),document.querySelectorAll(".js-poll-range").forEach(function(e){initRangeSlider(e)}),function(){var e=document.querySelectorAll(".js-ajax-wrapper"),t=new MutationObserver(function(e){Object.values(e).forEach(function(e){"attributes"===e.type&&(0<(e=document.querySelectorAll(".info-banner")).length&&e.forEach(function(e){window.initInfoBannerToggle(e)}),0<(e=document.querySelectorAll(".js-ajax-wrapper select")).length&&e.forEach(function(e){e.getAttribute("data-ssid")||window.addSelect(e)}))})});0<e.length&&e.forEach(function(e){t.observe(e,{attributes:!0,childList:!0,subtree:!0})})}(),function(){var e,n="js_hide",t=document.querySelector(".js_short_list"),o=document.querySelector(".js_short_list-category"),i=document.querySelector(".js_short_list + .js_show_all");(t&&i||o&&i)&&((e=t.querySelectorAll("li")).forEach(function(e,t){4<t&&e.classList.add(n)}),o&&8<e.length&&(i.style.display="block",e.forEach(function(e,t){8<t?e.classList.add(n):e.classList.remove(n)})),i.addEventListener("click",function(){i.style.display="",e.forEach(function(e){e.classList.remove(n),i.classList.add(n)})}))}(),function(){var n,o,e=document.querySelectorAll('[data-id="other-checkbox"]'),t=document.querySelectorAll('[data-id="other-radio"]'),i="hide";e&&e.forEach(function(e){e.addEventListener("change",function(e){var t=e.target.parentElement.querySelector(".js-other-textarea");e.target.checked?t.classList.remove(i):t.classList.add(i)})}),t&&(n=null,o=function(e){var t=e.parentElement.querySelector(".js-other-textarea");t&&(e===n?t.classList.remove(i):t.classList.add(i))},t.forEach(function(e){var e=e.getAttribute("name"),t=document.querySelectorAll('[name="'+e+'"]');t.forEach(function(e){e.addEventListener("change",function(){o(n=e),t.forEach(function(e){o(e)})})})}))}(),function(){var o,i,e,t,r,n="js-hide",s=document.querySelector(".special-popup"),c=document.querySelectorAll(".js-open-popup");s&&c&&(o=document.documentElement,i={"font-size":!0,"font-family":!0,theme:!0},e=s.querySelector(".js-close-popup"),t=s.querySelectorAll("[data-property]"),r=s.querySelector(".js-special-popup__reset"),t.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t,n="[data-property="+e.target.getAttribute("data-property")+"]";s.querySelectorAll(n).forEach(function(e){e.classList.remove("active")}),e.target.classList.add("active"),e=e.currentTarget,t=e.dataset.property,e=e.dataset.value,o.classList.forEach(function(e){new RegExp(t).test(e)&&o.classList.remove(e)}),"default"!==e?(i[t]=!1,o.classList.add("mod-"+t+"-"+e)):i[t]=!0,"font-size"===t&&window.adjustPageContentTopPadding(),r.disabled=i["font-size"]&&i["font-family"]&&i.theme})}),r.addEventListener("click",function(){o.className.split(" ").forEach(function(e){-1!==e.indexOf("mod-")&&o.classList.remove(e)}),t.forEach(function(e){e.classList.toggle("active","default"===e.dataset.value)}),r.disabled=!0}),c.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),s.classList.remove(n),o.clientWidth<window.const.resolution.DESKTOP&&window.bodyScrollLock.disableBodyScroll(s)})}),e.addEventListener("click",function(){s.classList.add(n),o.clientWidth<window.const.resolution.DESKTOP&&window.bodyScrollLock.enableBodyScroll(s)}),window.addEventListener("keydown",function(e){e.keyCode===window.const.keyCode.ESC&&(e.preventDefault(),s.classList.add(n),o.clientWidth<window.const.resolution.DESKTOP&&window.bodyScrollLock.enableBodyScroll(s))}))}(),function(){var t,n=document.querySelector(".js-social__link--subscribe, .js-social__link--unsubscribe");n&&(t=n.querySelector(".social__link-text"),n.addEventListener("click",function(e){e.preventDefault(),n.classList.contains("social__link--subscribe")?(t.textContent="Отписаться",n.classList.remove("social__link--subscribe"),n.classList.add("social__link--unsubscribe")):(t.textContent="Подписаться",n.classList.add("social__link--subscribe"),n.classList.remove("social__link--unsubscribe"))}))}(),window.initTable=function(){var e;(e=document.querySelectorAll(".table-fixed table")).length&&Array.prototype.forEach.call(e,function(e){var t="min-width: "+e.scrollWidth+"px;";e.style=t}),(e=document.querySelectorAll(".table-fixed")).length&&Array.prototype.forEach.call(e,function(e){return new window.SimpleBar(e,{autoHide:!1})}),(e=document.querySelectorAll(".table-fixed tbody")).length&&Array.prototype.forEach.call(e,function(e){return new window.SimpleBar(e,{autoHide:!1})})},window.initTable(),function(){var t,n;t=document.querySelector(".table-fixed--all-screen table tbody .simplebar-content-wrapper"),n=document.querySelector(".table-popup__header"),(t||n)&&t.addEventListener("scroll",function(){var e=document.querySelector(".table-fixed--all-screen table tr:first-child");e&&(e=e.scrollHeight+16,50<t.scrollTop&&(n.classList.add("table-popup__header--scroll"),e="top: "+e+"px;",n.style=e),t.scrollTop<50&&n.classList.remove("table-popup__header--scroll"))})}(),function(){var e,t=document.documentElement.clientWidth,n=document.querySelector(".activity-tabs__list");!n||(e=n.querySelector(".activity-tabs__item--active"))&&(e=e.offsetLeft,t<window.const.resolution.TABLET&&(n.scrollLeft=e-16))}(),function(){var e,t=document.querySelectorAll(".js-fit-text");t.length&&((e=function(){t.forEach(function(e){e.style.fontSize="";for(var t=parseInt(getComputedStyle(e).fontSize,10),n=parseInt(getComputedStyle(e).lineHeight,10);2<=e.offsetHeight/n;)t--,e.style.fontSize=t+"px"})})(),window.addEventListener("resize",function(){setTimeout(e,50)}))}(),function(){window.openText=function(e){Array.prototype.forEach.call(e,function(e){var t=e.querySelector(".js-text-hidden__btn"),n=t.querySelector("span"),o=e.querySelector(".text-hidden__container"),i=e.querySelector(".text-hidden__btn-wrapper");(t||o||i)&&(54<o.scrollHeight?(o.classList.add("text-hidden__container--close"),t.addEventListener("click",function(e){e.preventDefault(),t.classList.toggle("text-hidden__btn--open"),o.classList.toggle("text-hidden__container--close"),i.classList.toggle("text-hidden__btn-wrapper--open"),n.textContent="Развернуть"===n.textContent?"Свернуть":"Развернуть"})):i.classList.add("text-hidden__btn-wrapper--hidden"))})};var e=document.querySelectorAll(".answers__discussion-col.js-text-hidden");e.length&&window.openText(e)}(),function(){var n,e,o=document.querySelector(".js-page-body__up-btn"),t=document.querySelector("footer .container");o&&(n=document.querySelector(".js-cookie__button"),t&&((e=function(){t.getBoundingClientRect().right+o.offsetWidth<document.documentElement.clientWidth?(o.style.left=t.getBoundingClientRect().right-parseInt(getComputedStyle(t).paddingRight,10)+16+"px",o.style.right=""):(o.style.left="",o.style.right="16px"),n&&(o.style.bottom=window.innerHeight-n.getBoundingClientRect().bottom+(n.getBoundingClientRect().height-o.getBoundingClientRect().height)/2+1+"px")})(),window.addEventListener("resize",function(){e()})),o.addEventListener("click",function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}),document.addEventListener("click",function(e){var t;(e.target.classList.contains("js-special-popup__btn-size")||e.target.classList.contains("js-special-popup__reset"))&&n&&(t=n.offsetHeight,e=window.innerHeight-n.getBoundingClientRect().bottom,o.style.height=t+"px",o.style.width=t+"px",o.style.bottom=e+"px")}))}(),function(){var e,t,n,o,i,r=document.querySelector(".js-user-menu");r&&(e=r.querySelector(".js-user-menu__dropdown-btn"),t=e.querySelector(".user-menu__dropdown-btn-text"),n=r.querySelector(".js-user-menu__overlay"),o=r.querySelector(".js-user-menu__list"),i=function(){r.classList.remove("user-menu--open"),n.classList.remove("user-menu__overlay--shown"),t.textContent="Открыть меню пользователя"},e.addEventListener("click",function(){r.classList.contains("user-menu--open")?(i(),o.style.height=""):(r.classList.add("user-menu--open"),n.classList.add("user-menu__overlay--shown"),t.textContent="Закрыть меню пользователя",o.style.height=o.scrollHeight+"px")}),n.addEventListener("click",i),document.addEventListener("keydown",function(e){e.keyCode===window.const.keyCode.ESC&&n.classList.contains("user-menu__overlay--shown")&&(e.preventDefault(),i())}))}(),function(){var t,o,n,i,e=document.getElementById("widget_count_page"),r=document.getElementById("widget_count_all"),s=document.getElementById("widget_timer"),c=document.getElementById("widget_width_input"),a=document.querySelector(".widget_block__preview__block"),l=5,u=15,d=2e3,p=Math.ceil(u/l+1);(e||r||s||a)&&(n=null,t=1,o=function(){$(".swiper-pagination").pagination({items:u,itemsOnPage:l,displayedPages:3,edges:1,cssStyle:"",currentPage:1,prevText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-prev"></use></svg>',nextText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-next"></use></svg>',onPageClick:function(e,t){n.slideTo(e-1,400,!1)}})},n=new Swiper(".swiper-container",{speed:400,autoplay:{delay:d},watchOverflow:!0,grabCursor:!0,loop:!0,allowTouchMove:!1,hashNavigation:!1,on:{init:function(){o()},slideChangeTransitionStart:function(){$(".swiper-pagination").pagination({items:u,itemsOnPage:l,displayedPages:3,edges:1,cssStyle:"",currentPage:t++,prevText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-prev"></use></svg>',nextText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-next"></use></svg>',onPageClick:function(e,t){n.slideTo(e-1,400,!1)}}),t===p&&(t=1)}}}),n=document.querySelector(".swiper-container").swiper,(i=document.createElement("div")).classList.add("error"),e&&e.addEventListener("focusout",function(e){var n;""!==e.srcElement.value&&(t=1,0<e.srcElement.value&&""!=e.srcElement.value?(i.remove(),this.style.border="1px solid #e3e8ee",l=Number(e.srcElement.value),p=Math.ceil(u/l+1),(n=document.querySelector(".swiper-container").swiper).destroy(!0,!0),n=new Swiper(".swiper-container",{speed:400,autoplay:{delay:d},watchOverflow:!0,grabCursor:!0,loop:!0,allowTouchMove:!1,hashNavigation:!1,on:{init:function(){o()},slideChangeTransitionStart:function(){$(".swiper-pagination").pagination({items:u,itemsOnPage:l,displayedPages:3,edges:1,cssStyle:"",currentPage:t++,prevText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-prev"></use></svg>',nextText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-next"></use></svg>',onPageClick:function(e,t){n.slideTo(e-1,400,!1)}}),t===p&&(t=1)}}}),n=document.querySelector(".swiper-container").swiper):(this.parentElement.append(i),this.style.border="1px solid #F3A8A8",i.innerHTML="Количество элементов на странице не может быть 0"))}),r&&r.addEventListener("focusout",function(e){var n;""!==e.srcElement.value&&(t=1,0<e.srcElement.value&&""!=e.srcElement.value?(i.remove(),this.style.border="1px solid #e3e8ee",u=Number(e.srcElement.value),p=Math.ceil(u/l+1),(n=document.querySelector(".swiper-container").swiper).destroy(!0,!0),n=new Swiper(".swiper-container",{speed:400,autoplay:{delay:d},watchOverflow:!0,grabCursor:!0,loop:!0,allowTouchMove:!1,hashNavigation:!1,on:{init:function(){o()},slideChangeTransitionStart:function(){$(".swiper-pagination").pagination({items:u,itemsOnPage:l,displayedPages:3,edges:1,cssStyle:"",currentPage:t++,prevText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-prev"></use></svg>',nextText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-next"></use></svg>',onPageClick:function(e,t){n.slideTo(e-1,400,!1)}}),t===p&&(t=1)}}}),n=document.querySelector(".swiper-container").swiper):(this.parentElement.append(i),this.style.border="1px solid #F3A8A8",i.innerHTML="Общее количество элементов не может быть 0"))}),s&&s.addEventListener("focusout",function(e){var n;""!==e.srcElement.value&&(t=1,0<e.srcElement.value&&""!=e.srcElement.value?(i.remove(),this.style.border="1px solid #e3e8ee",(n=document.querySelector(".swiper-container").swiper).destroy(!0,!0),d=e.srcElement.value,n=new Swiper(".swiper-container",{speed:400,autoplay:{delay:d},watchOverflow:!0,grabCursor:!0,loop:!0,allowTouchMove:!1,hashNavigation:!1,on:{init:function(){o()},slideChangeTransitionStart:function(){$(".swiper-pagination").pagination({items:u,itemsOnPage:l,displayedPages:3,edges:1,cssStyle:"",currentPage:t++,prevText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-prev"></use></svg>',nextText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-next"></use></svg>',onPageClick:function(e,t){n.slideTo(e-1,400,!1)}}),t===p&&(t=1)}}}),n=document.querySelector(".swiper-container").swiper):(this.parentElement.append(i),this.style.border="1px solid #F3A8A8",i.innerHTML="Время не может быть пустым"))}),c&&c.addEventListener("focusout",function(e){var n;""!==e.srcElement.value&&(t=1,320<=e.srcElement.value?(a.style.width=e.srcElement.value+"px",i.remove(),this.style.border="1px solid #e3e8ee",(n=document.querySelector(".swiper-container").swiper).destroy(!0,!0),n=new Swiper(".swiper-container",{speed:400,autoplay:{delay:d},watchOverflow:!0,grabCursor:!0,loop:!0,allowTouchMove:!1,hashNavigation:!1,on:{init:function(){o()},slideChangeTransitionStart:function(){$(".swiper-pagination").pagination({items:u,itemsOnPage:l,displayedPages:3,edges:1,cssStyle:"",currentPage:t++,prevText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-prev"></use></svg>',nextText:'<svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg"><use xlink:href="img/sprite.svg#icon-paginator-next"></use></svg>',onPageClick:function(e,t){n.slideTo(e-1,400,!1)}}),t===p&&(t=1)}}}),n=document.querySelector(".swiper-container").swiper):(this.parentElement.append(i),this.style.border="1px solid #F3A8A8",i.innerHTML="Ширина должна быть не менее 320px"))}))}(),function(){var e=document.querySelector(".js-widget-open"),t=document.querySelector(".widget-popup");e&&e.addEventListener("click",function(){t.classList.add("popup--shown")})}(),function(){function e(e){new window.SlimSelect({select:e,showSearch:!1,afterOpen:function(){t.init(document.querySelector(".form-select .ss-list"),{continuousScrolling:!1})}})&&t.init(document.querySelector(".form-select .ss-main .ss-content .ss-list"),{continuousScrolling:!1})}var n,o,t=window.Scrollbar,i=document.querySelector("#widget-select-type"),r=document.querySelector("#widget-select-level"),s=document.querySelector("#widget-select-project-category"),c=document.querySelector("#widget_block-preview-select"),a=document.querySelector(".widget_block__selected_preview");function l(e){new window.SlimSelect({select:e,showSearch:!1,placeholder:"Тип виджета",data:n,afterOpen:function(){t.init(document.querySelector(".form-select .ss-list"),{continuousScrolling:!1})}})&&t.init(document.querySelector(".form-select .ss-main .ss-content .ss-list"),{continuousScrolling:!1})}i&&(i=i,new window.SlimSelect({select:i,showSearch:!1,onChange:function(e){n=new Array,o=new Object;for(var t=0;t<e.length;t++)(o={}).text=e[t].value,n.push(o);1<n.length?a.classList.add("ss-arrow-show"):a.classList.remove("ss-arrow-show"),l(c)},afterOpen:function(){t.init(document.querySelector(".form-select .ss-list"),{continuousScrolling:!1})}})&&t.init(document.querySelector(".form-select .ss-main .ss-content .ss-list"),{continuousScrolling:!1})),r&&e(r),c&&l(c),s&&e(s)}();